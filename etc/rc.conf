# =========================
#  System Configuration
# =========================
hostname="FreeBSD"
moused_enable="YES"
ntpd_enable="YES"
ntpd_sync_on_start="YES"
dumpdev="AUTO"
zfs_enable="YES"
update_motd="NO"
dynamic_motd="YES"

# =========================
#  Kernel Modules (loaded at boot)
# =========================
# Load only one GPU stack: NVIDIA OR AMD
kld_list="nvidia-modeset nvidia-drm linux linux64 cuse snd_driver tcp_rack tcp_bbr nullfs"
#kld_list="amdgpu linux linux64 cuse snd_driver tcp_rack tcp_bbr nullfs"

# =========================
#  Desktop Environment
# =========================
dbus_enable="YES"
seatd_enable="YES"
sddm_enable="YES"
# For Wayland compositors
wlroots_enable="YES"

# =========================
#  Automount and Device Management
# =========================
dsbmd_enable="YES"
hcsecd_enable="YES"

# =========================
#  Linux Compatibility
# =========================
linux_enable="YES"

# =========================
#  Network Configuration
# =========================
# --- Wired Interface (re0)
ifconfig_re0="DHCP"
ifconfig_re0_ipv6="inet6 accept_rtadv"

# --- Optional Wireless Example ---
#wlans_rtwn0="wlan0"
#ifconfig_wlan0="WPA SYNCDHCP"
#create_args_wlan0="country CN regdomain NONE"

# --- Network Behavior ---
background_dhclient="YES"         # Run DHCP client in background
defaultroute_delay="2"            # Wait for route before starting services

# =========================
#  SSH Service
# =========================
sshd_enable="YES"
#sshd_flags="-o ListenAddress=192.168.1.x"   # Restrict to LAN only if desired

# =========================
#  Bluetooth
# =========================
hcsecd_enable="YES"
bthidd_enable="YES"

# =========================
#  Power Management
# =========================
powerd_enable="YES"
powerd_flags="-a adaptive -b adaptive -i 75 -r 60 -p 100"

# =========================
#  Device Filesystem Rules
# =========================
devfs_system_ruleset="localrules"

# =========================
#  Firewall (IPFW)
# =========================
firewall_enable="YES"
firewall_quiet="YES"               # Reduce console output
firewall_script="/usr/local/etc/ipfw.rules"
firewall_logging="YES"
firewall_logif="YES"
firewall_nat_enable="NO"           # Disable NAT unless using hotspot mode

# =========================
#  Fail2ban (brute-force protection)
# =========================
fail2ban_enable="YES"
fail2ban_flags="--delay 5"         # Wait a few seconds to ensure firewall is ready

# =========================
#  Camera (optional)
# =========================
#webcamd_enable="YES"
